{% extends "base.html.j2" %}

{% block content %}

<div class="hero">
    <h1>Arca Verborum</h1>
    <p>A Global Lexical Database for Computational Historical Linguistics</p>
</div>

<!-- About Section -->
<section>
    <h2>What is Arca Verborum?</h2>
    <p>
        Arca Verborum provides denormalized, analysis-ready versions of comparative wordlist data
        from the <a href="https://lexibank.clld.org/">Lexibank</a> initiative. While CLDF's normalized
        structure is excellent for data integrity, it requires significant preprocessing before analysis.
        Arca Verborum solves this by providing pre-joined, ready-to-use CSV files.
    </p>
    <p><strong>Perfect for:</strong></p>
    <ul>
        <li>Rapid method development and prototyping</li>
        <li>Student projects and teaching computational linguistics</li>
        <li>Cross-linguistic statistical analysis</li>
        <li>Training machine learning models on linguistic data</li>
    </ul>
</section>

<section>
    <h2>Collections</h2>

    <table>
        <thead>
            <tr>
                <th></th>
                <th>Full</th>
                <th>Core</th>
                <th>CoreCog</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Datasets</strong></td>
                <td>{{ full_datasets }}</td>
                <td>{{ core_datasets }}</td>
                <td>{{ corecog_datasets }}</td>
            </tr>
            <tr>
                <td><strong>Forms</strong></td>
                <td>{{ "{:,}".format(full_forms) }}</td>
                <td>{{ "{:,}".format(core_forms) }}</td>
                <td>{{ "{:,}".format(corecog_forms) }}</td>
            </tr>
            <tr>
                <td><strong>Languages</strong></td>
                <td>{{ "{:,}".format(full_languages) }}</td>
                <td>{{ "{:,}".format(core_languages) }}</td>
                <td>{{ "{:,}".format(corecog_languages) }}</td>
            </tr>
            <tr>
                <td><strong>Concepts</strong></td>
                <td>{{ "{:,}".format(full_parameters) }}</td>
                <td>{{ "{:,}".format(core_parameters) }}</td>
                <td>{{ "{:,}".format(corecog_parameters) }}</td>
            </tr>
        </tbody>
    </table>

    <p><strong>Full Collection:</strong> Complete dataset with all {{ full_datasets }} repositories.</p>
    <p><strong>Core Collection:</strong> {{ core_datasets }} curated datasets for teaching, with global coverage.</p>
    <p><strong>CoreCog Collection:</strong> {{ corecog_datasets }} datasets with expert cognate judgments for cognate research.</p>

    <p style="text-align: center; margin-top: 1.5em;">
        <a href="{{ full_doi_concept }}" class="download-btn">Download Full</a>
        <a href="{{ core_doi_concept }}" class="download-btn">Download Core</a>
        <a href="{{ corecog_doi_concept }}" class="download-btn">Download CoreCog</a>
    </p>
</section>

<section>
    <h2>Quick Start</h2>

    <h3>Python</h3>
    <pre><code>import pandas as pd

# Load the data
forms = pd.read_csv('arcaverborum_{{ version }}/forms.csv')

# Forms with cognate judgments
cognate_forms = forms[forms['Cognacy'].notna()]</code></pre>

    <h3>R</h3>
    <pre><code>library(tidyverse)

# Load the data
forms <- read_csv('arcaverborum_{{ version }}/forms.csv')

# Forms with Concepticon mapping
forms %>% filter(!is.na(Concepticon_Gloss))</code></pre>
</section>

<section>
    <h2>Citation</h2>
    <p>If you use this dataset, please cite both Arca Verborum and Lexibank.</p>
</section>

<section>
    <h2>Data Quality</h2>
    <p>Full collection coverage metrics:</p>
    <ul>
        <li><strong>Glottolog:</strong> {{ "%.1f"|format(glottolog_coverage) }}% (language identification)</li>
        <li><strong>Concepticon:</strong> {{ "%.1f"|format(concepticon_coverage) }}% (concept standardization)</li>
        <li><strong>Cognate data:</strong> {{ "%.1f"|format(cognate_coverage) }}% of forms</li>
        <li><strong>Segmentation:</strong> {{ "%.1f"|format(segments_coverage) }}% of forms</li>
    </ul>

    <p><strong>Archive Contents:</strong> Each collection includes forms.csv, languages.csv, parameters.csv, metadata.csv, sources.bib, and validation_report.json with complete documentation.</p>
</section>

<section>
    <h2>Contact</h2>
    <p>
        <strong>Tiago Tresoldi</strong><br>
        Department of Linguistics and Philology, Uppsala University<br>
        <a href="mailto:tiago.tresoldi@lingfil.uu.se">tiago.tresoldi@lingfil.uu.se</a>
    </p>
</section>

<!-- Related Work -->
<section>
    <h2>Related Work</h2>
    <ul>
        <li><a href="https://doi.org/10.5334/johd.96">GLED</a> - Global Lexical Database (predecessor)</li>
        <li><a href="https://lexibank.clld.org/">Lexibank</a> - Source data repository</li>
        <li><a href="https://cldf.clld.org/">CLDF</a> - Cross-Linguistic Data Format</li>
    </ul>
</section>

{% endblock %}

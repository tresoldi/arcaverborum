{% extends "base.html.j2" %}

{% block content %}

<div class="hero">
    <h1>Arca Verborum</h1>
    <p>A Multi-Source Lexical Database for Computational Historical Linguistics</p>
</div>

<!-- About Section -->
<section>
    <h2>What is Arca Verborum?</h2>
    <p>
        Arca Verborum is a project providing analysis-ready lexical databases for computational historical linguistics.
        The project integrates data from multiple sources, structured for immediate use in research and education.
    </p>

    <h3>Data Series</h3>
    <p>
        Arca Verborum organizes data into distinct series, each derived from different sources but sharing a common structure:
    </p>
    <ul>
        <li><strong>Series A</strong> – Comparative wordlists from the <a href="https://lexibank.clld.org/">Lexibank</a> initiative:
            149 datasets, 2.9M forms across 9,700+ languages</li>
        <li><strong>Series B</strong> (planned) – Wiktionary-derived etymological and lexical data</li>
    </ul>

    <h3>Why Series A?</h3>
    <p>
        While CLDF's normalized structure is excellent for data integrity, it requires significant preprocessing before analysis.
        Series A provides denormalized, pre-joined CSV files so you can start working immediately. It is intended for rapid
        method development and prototyping, student projects, and teaching computational linguistics, and will be used to
        bootstrap and validate other series.
    </p>
</section>

<section>
    <h2>Collections</h2>
    <p>Series A is available in three collections tailored for different use cases:</p>

    <table>
        <thead>
            <tr>
                <th></th>
                <th>Full</th>
                <th>Core</th>
                <th>CoreCog</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Datasets</strong></td>
                <td>{{ full_datasets }}</td>
                <td>{{ core_datasets }}</td>
                <td>{{ corecog_datasets }}</td>
            </tr>
            <tr>
                <td><strong>Forms</strong></td>
                <td>{{ "{:,}".format(full_forms) }}</td>
                <td>{{ "{:,}".format(core_forms) }}</td>
                <td>{{ "{:,}".format(corecog_forms) }}</td>
            </tr>
            <tr>
                <td><strong>Languages</strong></td>
                <td>{{ "{:,}".format(full_languages) }}</td>
                <td>{{ "{:,}".format(core_languages) }}</td>
                <td>{{ "{:,}".format(corecog_languages) }}</td>
            </tr>
            <tr>
                <td><strong>Concepts</strong></td>
                <td>{{ "{:,}".format(full_parameters) }}</td>
                <td>{{ "{:,}".format(core_parameters) }}</td>
                <td>{{ "{:,}".format(corecog_parameters) }}</td>
            </tr>
        </tbody>
    </table>

    <p><strong>Full Collection:</strong> Complete dataset with all {{ full_datasets }} repositories.</p>
    <p><strong>Core Collection:</strong> {{ core_datasets }} curated datasets for teaching, with global coverage.</p>
    <p><strong>CoreCog Collection:</strong> {{ corecog_datasets }} datasets with expert cognate judgments for cognate research.</p>

    <p style="text-align: center; margin-top: 1.5em;">
        <a href="{{ full_download_url }}" class="download-btn">Download Full</a>
        <a href="{{ core_download_url }}" class="download-btn">Download Core</a>
        <a href="{{ corecog_download_url }}" class="download-btn">Download CoreCog</a>
    </p>

    <p style="text-align: center; font-size: 0.9em; margin-top: 0.5em;">
        All collections share a single DOI: <a href="{{ zenodo_doi }}">{{ zenodo_doi }}</a>
    </p>
</section>

<section>
    <h2>Quick Start</h2>

    <h3>Python</h3>
    <pre><code>import csv

# Load the data (example with Core collection)
with open('{{ core_dir }}/forms.csv', encoding='utf-8') as f:
    reader = csv.DictReader(f)
    forms = list(reader)

# Forms with cognate judgments
cognate_forms = [f for f in forms if f['Cognacy']]</code></pre>

    <h3>Python / Pandas</h3>
    <pre><code>import pandas as pd

# Load the data (example with Core collection)
forms = pd.read_csv('{{ core_dir }}/forms.csv')

# Forms with cognate judgments
cognate_forms = forms[forms['Cognacy'].notna()]</code></pre>

    <h3>R</h3>
    <pre><code>library(tidyverse)

# Load the data (example with Core collection)
forms <- read_csv('{{ core_dir }}/forms.csv')

# Forms with Concepticon mapping
forms %>% filter(!is.na(Concepticon_Gloss))</code></pre>
</section>

<section>
    <h2>Citation</h2>
    <p>If you use this dataset, please cite both Arca Verborum and Lexibank:</p>

    <h3>Arca Verborum</h3>
    <pre><code>@dataset{tresoldi{{ year }}_arcaverborum,
  author = {Tresoldi, Tiago},
  title = {Arca Verborum: A Global Lexical Database for
           Computational Historical Linguistics},
  year = {{ year }},
  publisher = {Zenodo},
  version = {{ version }},
  doi = {10.5281/zenodo.XXXXXXX},
  url = {https://doi.org/10.5281/zenodo.XXXXXXX}
}</code></pre>

    <h3>Lexibank</h3>
    <pre><code>@article{list2022lexibank,
  author = {List, Johann-Mattis and Forkel, Robert and
            Greenhill, Simon J. and Rzymski, Christoph and
            Englisch, Johannes and Gray, Russell D.},
  title = {Lexibank, a public repository of standardized
           wordlists with computed phonological and lexical
           features},
  journal = {Scientific Data},
  volume = {9},
  number = {316},
  year = {2022},
  doi = {10.1038/s41597-022-01432-0},
  url = {https://doi.org/10.1038/s41597-022-01432-0}
}</code></pre>
</section>

<section>
    <h2>Data Quality</h2>
    <p>Full collection coverage metrics:</p>
    <ul>
        <li><strong>Glottolog:</strong> {{ "%.1f"|format(glottolog_coverage) }}% (language identification)</li>
        <li><strong>Concepticon:</strong> {{ "%.1f"|format(concepticon_coverage) }}% (concept standardization)</li>
        <li><strong>Cognate data:</strong> {{ "%.1f"|format(cognate_coverage) }}% of forms</li>
        <li><strong>Segmentation:</strong> {{ "%.1f"|format(segments_coverage) }}% of forms</li>
    </ul>

    <p><strong>Archive Contents:</strong> Each collection includes forms.csv, languages.csv, parameters.csv, metadata.csv, sources.bib, and validation_report.json with complete documentation.</p>
</section>

<section>
    <h2>Contact</h2>
    <p>
        <strong>Tiago Tresoldi</strong><br>
        Department of Linguistics and Philology, Uppsala University<br>
        <a href="mailto:tiago.tresoldi@lingfil.uu.se">tiago.tresoldi@lingfil.uu.se</a>
    </p>
</section>

<!-- Related Work -->
<section>
    <h2>Related Work</h2>
    <ul>
        <li><a href="https://doi.org/10.5334/johd.96">GLED</a> - Global Lexical Database (predecessor)</li>
        <li><a href="https://lexibank.clld.org/">Lexibank</a> - Source data repository</li>
        <li><a href="https://cldf.clld.org/">CLDF</a> - Cross-Linguistic Data Format</li>
    </ul>
</section>

{% endblock %}
